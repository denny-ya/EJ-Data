# 📋 개발 진행 규칙 (Development Rules)

> 이 문서는 앱 개발 시 준수해야 할 코딩 규칙과 협업 규칙을 정의합니다.

---

## 📊 규칙 우선순위 요약

| 우선순위 | 카테고리 | 핵심 규칙 | 시점 |
|----------|----------|-----------|------|
| **🥇 1순위** | 네이밍 | 컨벤션 통일 (PascalCase, camelCase) | 코딩 시작부터 |
| **🥇 1순위** | Git | 브랜치 전략, 커밋 메시지 형식 | 개발 시작부터 |
| **🥈 2순위** | 파일 구조 | 1 컴포넌트 = 1 파일 규칙 | 코딩 시작부터 |
| **🥈 2순위** | 코드 리뷰 | PR 생성 및 리뷰 필수 | 기능 완료 후 |
| **🥉 3순위** | 포맷팅 | 들여쓰기, 따옴표, 줄 길이 | 코딩 중 |

---

## 1. 코드 작성 규칙

### 1.1 네이밍 컨벤션

| 항목 | 규칙 | 예시 | 중요도 | 우선순위 |
|------|------|------|--------|----------|
| **컴포넌트** | PascalCase | `SearchBar.tsx`, `ListItem.tsx` | 🔴 높음 | 1순위 |
| **함수** | camelCase | `handleSearch()`, `formatDate()` | 🔴 높음 | 1순위 |
| **상수** | UPPER_SNAKE_CASE | `API_URL`, `MAX_ITEMS` | 🟡 중간 | 2순위 |
| **타입/인터페이스** | PascalCase | `UserSettings`, `ApiResponse` | 🔴 높음 | 1순위 |
| **파일명 (컴포넌트)** | PascalCase.tsx | `FilterModal.tsx` | 🔴 높음 | 1순위 |
| **파일명 (유틸)** | camelCase.ts | `dateFormat.ts` | 🟡 중간 | 2순위 |
| **폴더명** | camelCase | `components`, `hooks` | 🟡 중간 | 2순위 |

#### 📌 리스크 및 대처 방법

| 리스크 | 대처 방법 |
|--------|-----------|
| 네이밍 불일치로 코드 가독성 저하 | ESLint naming-convention 규칙 설정 |
| 팀원 간 컨벤션 혼란 | 이 문서를 팀 전체와 공유, 코드 리뷰 시 확인 |
| 나중에 일괄 수정 필요 | 처음부터 컨벤션 적용, IDE 자동완성 활용 |

> **💡 초보자 팁**: 네이밍 규칙은 처음부터 지키세요. 나중에 수정하면 모든 파일을 다 바꿔야 합니다!

### 1.2 파일 구조 규칙

| 규칙 | 중요도 | 우선순위 |
|------|--------|----------|
| 하나의 컴포넌트 = 하나의 파일 | 🔴 높음 | 1순위 |
| 관련 스타일은 같은 파일 내 StyleSheet로 정의 | 🟡 중간 | 2순위 |
| 재사용 컴포넌트는 components/ 폴더에 배치 | 🔴 높음 | 1순위 |

```
✅ 좋은 예:
- 하나의 컴포넌트 = 하나의 파일
- 관련 스타일은 같은 파일 내 StyleSheet로 정의
- 재사용 컴포넌트는 components/ 폴더에 배치

❌ 나쁜 예:
- 한 파일에 여러 컴포넌트 정의
- 인라인 스타일 남용
- 비즈니스 로직과 UI 혼합
```

#### 📌 리스크 및 대처 방법

| 리스크 | 대처 방법 |
|--------|-----------|
| 파일이 너무 커져서 관리 어려움 | 200줄 이상이면 분리 고려 |
| 컴포넌트 찾기 어려움 | 폴더 구조 규칙 준수, IDE 검색 활용 |
| 코드 중복 발생 | 재사용 컴포넌트 적극 생성 |

### 1.3 코드 포맷팅

| 규칙 | 설정값 | 중요도 | 우선순위 |
|------|--------|--------|----------|
| 들여쓰기 | 2 spaces (탭 사용 금지) | 🟡 중간 | 3순위 |
| 세미콜론 | 사용 | 🟢 낮음 | 4순위 |
| 따옴표 | 싱글 쿼트 `'` 사용 | 🟢 낮음 | 4순위 |
| 줄 길이 | 최대 100자 | 🟢 낮음 | 4순위 |
| 빈 줄 | 함수 사이 1줄, import 그룹 사이 1줄 | 🟢 낮음 | 4순위 |

#### 📌 리스크 및 대처 방법

| 리스크 | 대처 방법 |
|--------|-----------|
| 포맷팅 불일치로 Git diff 불필요하게 커짐 | Prettier 설정 파일 공유 |
| 수동 포맷팅으로 시간 낭비 | 저장 시 자동 포맷팅 설정 (VS Code) |

> **💡 초보자 팁**: VS Code에서 "Format on Save" 옵션을 켜두면 자동으로 포맷팅됩니다!

### 1.4 주석 규칙

| 규칙 | 중요도 | 우선순위 |
|------|--------|----------|
| 함수에 JSDoc 주석 작성 | 🟡 중간 | 2순위 |
| 복잡한 로직에 설명 주석 | 🟡 중간 | 2순위 |
| 불필요한 주석 금지 | 🟢 낮음 | 3순위 |

```typescript
// ✅ 함수에 JSDoc 주석 작성
/**
 * 날짜를 YYYY-MM-DD 형식으로 변환
 * @param date - 변환할 날짜
 * @returns 포맷팅된 날짜 문자열
 */
function formatDate(date: Date): string { ... }

// ✅ 복잡한 로직에 설명 주석
// 검색 결과가 없으면 빈 배열 반환
if (!results.length) return [];

// ❌ 불필요한 주석 금지
const count = 0; // count를 0으로 설정 (불필요)
```

---

## 2. Git 커밋 메시지 규칙

### 2.1 커밋 메시지 형식

```
<type>: <subject>

[optional body]
```

### 2.2 Type 종류

| Type | 설명 | 예시 | 중요도 | 사용 빈도 |
|------|------|------|--------|-----------|
| `feat` | 새로운 기능 추가 | `feat: 검색 기능 구현` | 🔴 높음 | ⭐⭐⭐ |
| `fix` | 버그 수정 | `fix: 검색 결과 없음 오류 수정` | 🔴 높음 | ⭐⭐⭐ |
| `style` | UI/스타일 변경 | `style: 버튼 색상 변경` | 🟡 중간 | ⭐⭐ |
| `refactor` | 코드 리팩토링 | `refactor: API 호출 로직 분리` | 🟡 중간 | ⭐⭐ |
| `docs` | 문서 수정 | `docs: README 업데이트` | 🟢 낮음 | ⭐ |
| `chore` | 기타 작업 | `chore: 패키지 업데이트` | 🟢 낮음 | ⭐ |
| `test` | 테스트 추가/수정 | `test: 검색 기능 테스트 추가` | 🟢 낮음 | ⭐ |

### 2.3 커밋 메시지 규칙

| 규칙 | 중요도 |
|------|--------|
| ✅ 한글 또는 영어로 통일 (혼용 금지) | 🔴 높음 |
| ✅ 제목은 50자 이내 | 🟡 중간 |
| ✅ 제목 끝에 마침표 금지 | 🟢 낮음 |
| ✅ 명령형으로 작성 (추가, 수정, 삭제) | 🟡 중간 |

#### 📌 리스크 및 대처 방법

| 리스크 | 대처 방법 |
|--------|-----------|
| 커밋 히스토리가 지저분해짐 | Type 접두어 필수 사용 |
| 나중에 변경 사항 추적 어려움 | 기능 단위로 작은 커밋 유지 |
| 커밋 메시지만으로 변경 내용 파악 불가 | 제목에 핵심 내용 명시 |

---

## 3. 브랜치 전략

### 3.1 브랜치 구조

```
main (프로덕션)
  └── develop (개발 통합)
        ├── feature/기능명 (기능 개발)
        ├── fix/버그명 (버그 수정)
        └── hotfix/긴급수정 (긴급 수정)
```

### 3.2 브랜치 네이밍

| 브랜치 | 형식 | 예시 | 중요도 | 우선순위 |
|--------|------|------|--------|----------|
| 기능 개발 | `feature/기능명` | `feature/search`, `feature/login` | 🔴 높음 | 1순위 |
| 버그 수정 | `fix/버그명` | `fix/search-error` | 🔴 높음 | 1순위 |
| 긴급 수정 | `hotfix/설명` | `hotfix/api-url-fix` | 🔴 높음 | 1순위 |

### 3.3 머지 규칙

| 규칙 | 설명 | 중요도 |
|------|------|--------|
| `feature/*` → `develop` | PR 생성 후 리뷰 완료 시 머지 | 🔴 높음 |
| `develop` → `main` | 배포 준비 완료 시 머지 | 🔴 높음 |
| `hotfix/*` → `main` | 긴급 시 직접 머지 가능 | 🟡 중간 |

#### 📌 리스크 및 대처 방법

| 리스크 | 대처 방법 |
|--------|-----------|
| main 브랜치에 버그 있는 코드 머지 | develop에서 충분히 테스트 후 머지 |
| 브랜치가 너무 많아져 관리 어려움 | 머지 완료된 브랜치 삭제 |
| 머지 충돌 발생 | 자주 develop에서 pull하여 동기화 |

> **💡 초보자 팁**: 혼자 개발해도 브랜치 전략을 사용하세요. 나중에 실수를 되돌리기 쉬워집니다!

---

## 4. 코드 리뷰 규칙

### 4.1 PR 생성 시 필수 항목

| 항목 | 중요도 | 필수 여부 |
|------|--------|-----------|
| 변경 사항 설명 | 🔴 높음 | ✅ 필수 |
| 테스트 완료 여부 | 🔴 높음 | ✅ 필수 |
| 스크린샷 (UI 변경 시) | 🟡 중간 | UI 변경 시 |

### 4.2 리뷰어 체크리스트

| 검토 항목 | 중요도 |
|-----------|--------|
| 코드가 요구사항을 충족하는가? | 🔴 높음 |
| 네이밍 컨벤션을 준수하는가? | 🔴 높음 |
| 불필요한 코드가 없는가? | 🟡 중간 |
| 에러 처리가 적절한가? | 🔴 높음 |

#### 📌 리스크 및 대처 방법

| 리스크 | 대처 방법 |
|--------|-----------|
| 리뷰 없이 머지하여 버그 발생 | PR 필수 정책 설정 |
| 리뷰 지연으로 개발 정체 | 리뷰 SLA 설정 (예: 24시간 내) |
| 리뷰 피드백이 명확하지 않음 | 코드 라인에 직접 코멘트 |

---

## 5. 기술 스택 규칙

| 분류 | 기술 | 비고 | 중요도 | 변경 가능성 |
|------|------|------|--------|-------------|
| 프레임워크 | React Native + Expo | 필수 | 🔴 높음 | ❌ 불가 |
| 언어 | TypeScript | 필수 | 🔴 높음 | ❌ 불가 |
| 상태관리 | Zustand | 전역 상태 | 🟡 중간 | ⭕ 협의 후 |
| 스타일링 | StyleSheet | RN 기본 | 🟡 중간 | ⭕ 협의 후 (UI 라이브러리 도입 추천) |
 | **UI 라이브러리** | **React Native Paper** | **Material Design 3 적용** | 🔴 높음 | **강력 추천** |
| API 통신 | fetch | 기본 사용 | 🟡 중간 | ⭕ 협의 후 |
| 로컬 저장소 | AsyncStorage | 기본 사용 | 🟡 중간 | ⭕ 협의 후 |

#### 📌 리스크 및 대처 방법

| 리스크 | 대처 방법 |
|--------|-----------|
| 새로운 라이브러리 학습 곡선 | 공식 문서 먼저 확인, 튜토리얼 진행 |
| 라이브러리 버전 충돌 | package.json 버전 고정, 테스트 후 업데이트 |
| Expo 제한으로 특정 기능 구현 불가 | 사전에 Expo 지원 여부 확인 |

> **⚠️ 경고**: 프레임워크(React Native + Expo)와 언어(TypeScript)는 변경 불가입니다. 다른 기술 선택 시 프로젝트 처음부터 다시 시작해야 합니다.

---

---
 
 ## 📱 UI 컴포넌트 전략 (React Native Paper 활용)
 
 > **도입 이유**: 
 > 1. **Material Design 3** 준수로 별도 디자인 없이도 고품질 UI 제공
 > 2. **다크 모드** 및 **테마(Theming)** 시스템 기본 내장
 > 3. 텍스트 입력, 버튼, 카드 등 **이미 만들어진 컴포넌트** 사용으로 개발 속도 2배 향상
 
 ### 🎨 주요 사용 컴포넌트 매핑
 
 | 화면 요소 | Apps Script (기존) | React Native Paper (도입) | 비고 |
 |-----------|-------------------|-----------------------------|------|
 | **버튼** | HTML Button | `Button` (mode: contained/outlined) | 터치 효과 자동 적용 |
 | **입력창** | Input Text | `TextInput` (mode: outlined) | 라벨 애니메이션 포함 |
 | **리스트** | Table/List | `Card` + `List.Item` | 터치 가능한 리스트 아이템 |
 | **상단바** | Header | `Appbar.Header` | 뒤로가기, 제목 자동 처리 |
 | **하단 탭** | - | `BottomNavigation` | 탭 네비게이션과 연동 |
 | **로딩** | Spinner | `ActivityIndicator` | 플랫폼별 네이티브 로딩 |
 | **알림** | Alert | `Snackbar`, `Dialog` | 하단 토스트 메시지 및 모달 |
 
 ### 🛠️ 초기 설정 가이드 (`_layout.tsx`)
 
 ```tsx
 import { PaperProvider, MD3LightTheme } from 'react-native-paper';
 
 export default function Layout() {
   return (
     <PaperProvider theme={MD3LightTheme}>
       <Slot />
     </PaperProvider>
   );
 }
 ```
 
 #### 📌 리스크 및 대처 방법
 
 | 리스크 | 대처 방법 |
 |--------|-----------|
 | 커스텀 디자인 적용 어려움 | `theme` 객체 커스터마이징으로 해결 |
 | 앱 번들 사이즈 증가 | 트리쉐이킹 적용 (필요한 컴포넌트만 import) |
 
 ---
 
 ## 6. 🚀 모바일 최적화 및 보안 규칙 (Mobile Optimization & Security)
 
 ### 6.1 성능 최적화 (Performance)
 모바일 환경은 리소스가 제한적이므로 성능 최적화가 필수입니다.
 
 | 규칙 | 설명 | 중요도 |
 |------|------|--------|
 | **이미지 최적화** | 모든 이미지는 압축 후 사용 (`webp` 권장), `React.memo` 활용 | 🔴 높음 |
 | **리스트 최적화** | `FlatList` 사용 시 `getItemLayout`, `initialNumToRender` 설정 필수 | 🔴 높음 |
 | **불필요한 렌더링 방지** | `useCallback`, `useMemo` 적절히 사용하여 리렌더링 최소화 | 🟡 중간 |
 | **콘솔 로그 제거** | 프로덕션 배포 시 `console.log` 모두 제거 (babel plugin 활용) | 🟢 낮음 |
 
 ### 6.2 보안 코딩 (Security)
 
 | 규칙 | 설명 | 중요도 |
 |------|------|--------|
 | **API 키 보호** | `.env` 파일 사용 필수, 소스코드에 절대 노출 금지 | 🔴 높음 |
 | **데이터 저장** | 민감 정보(토큰 등)는 `AsyncStorage` 대신 `Expo SecureStore` 사용 | 🔴 높음 |
 | **입력값 검증** | 모든 사용자 입력값은 유효성 검사 수행 | 🟡 중간 |
 
 ---
 
 ## 📝 규칙 준수 체크리스트

| 카테고리 | 항목 수 | 완료 | 비고 |
|----------|---------|------|------|
| 네이밍 컨벤션 | 7 | /7 | |
| 파일 구조 | 3 | /3 | |
| 코드 포맷팅 | 5 | /5 | |
| 주석 | 3 | /3 | |
| Git 커밋 | 7 | /7 | |
| 브랜치 | 3 | /3 | |
| 코드 리뷰 | 7 | /7 | |
| 기술 스택 | 6 | /6 | |

**검토일**: ____년 __월 __일  
**검토자**: ______________
