<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2026 Coco CS Manager</title>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap"
        rel="stylesheet">

    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- Kakao Map API (영업점 지도용) -->
    <script type="text/javascript"
        src="//dapi.kakao.com/v2/maps/sdk.js?appkey=YOUR_KAKAO_API_KEY&libraries=services"></script>

    <?!= include('Stylesheet'); ?>
</head>

<body>
    <!-- 앱 컨테이너 -->
    <div id="app-container">

        <!-- ========== 메인화면 (CS 관리) ========== -->
        <div id="page-main" class="page active">
            <header class="header header-blue">
                <h1 class="header-title">Coco CS Manager</h1>
                <button class="header-home" onclick="goHome()">
                    <span class="material-icons">home</span>
                </button>
            </header>

            <main class="main-content">
                <nav class="menu-list">
                    <button class="menu-item" onclick="navigateTo('bs-rework')">
                        <span class="material-icons menu-icon">search</span>
                        <span class="menu-text">[검색] BS 및 리워크</span>
                    </button>

                    <button class="menu-item" onclick="navigateTo('stats-menu')">
                        <span class="material-icons menu-icon">bar_chart</span>
                        <span class="menu-text">실적 및 통계</span>
                    </button>

                    <button class="menu-item" onclick="navigateTo('branch-search')">
                        <span class="material-icons menu-icon">location_on</span>
                        <span class="menu-text">영업점 주소록</span>
                    </button>

                    <button class="menu-item" onclick="navigateTo('delivery-list')">
                        <span class="material-icons menu-icon">local_shipping</span>
                        <span class="menu-text">배차 목록</span>
                    </button>
                </nav>
            </main>
        </div>

        <!-- ========== [검색] BS 및 리워크 ========== -->
        <div id="page-bs-rework" class="page">
            <header class="header header-blue">
                <button class="header-back" onclick="goBack()">
                    <span class="material-icons">arrow_back</span>
                </button>
                <h1 class="header-title">[검색] BS 및 리워크</h1>
                <button class="header-home" onclick="goHome()">
                    <span class="material-icons">home</span>
                </button>
            </header>

            <main class="main-content">
                <div class="search-box">
                    <input type="text" id="bs-search-input" class="search-input"
                        placeholder="자산번호 입력 (예: HYM002122773)">
                    <button class="search-btn" onclick="searchBS()">
                        <span class="material-icons">search</span>
                    </button>
                </div>

                <div id="bs-search-results" class="search-results">
                    <div class="empty-state">
                        <span class="material-icons">info</span>
                        <p>검색 시 결과를 화면에 보여줍니다.<br>단, 5일 전 이상의 데이터는 조회되지 않습니다.</p>
                    </div>
                </div>
            </main>
        </div>

        <!-- ========== 실적 및 통계 메뉴 ========== -->
        <div id="page-stats-menu" class="page">
            <header class="header header-blue">
                <button class="header-back" onclick="goBack()">
                    <span class="material-icons">arrow_back</span>
                </button>
                <h1 class="header-title">실적 및 통계</h1>
                <button class="header-home" onclick="goHome()">
                    <span class="material-icons">home</span>
                </button>
            </header>

            <main class="main-content">
                <nav class="menu-list">
                    <button class="menu-item" onclick="navigateTo('as-performance')">
                        <span class="material-icons menu-icon">assessment</span>
                        <span class="menu-text">AS 실적</span>
                    </button>

                    <button class="menu-item" onclick="navigateTo('cs-statistics')">
                        <span class="material-icons menu-icon">analytics</span>
                        <span class="menu-text">CS 통계</span>
                    </button>
                </nav>
            </main>
        </div>

        <!-- ========== AS 실적 ========== -->
        <div id="page-as-performance" class="page">
            <header class="header header-blue">
                <button class="header-back" onclick="goBack()">
                    <span class="material-icons">arrow_back</span>
                </button>
                <h1 class="header-title">AS 실적</h1>
                <button class="header-home" onclick="goHome()">
                    <span class="material-icons">home</span>
                </button>
            </header>

            <main class="main-content">
                <!-- 필터 영역 -->
                <div class="filter-container">
                    <div class="filter-row">
                        <label class="filter-label">수리구분</label>
                        <select id="repair-type" class="filter-select">
                            <option value="">전체</option>
                            <option value="light">경수리</option>
                            <option value="heavy">중수리</option>
                        </select>
                    </div>

                    <div class="filter-row">
                        <label class="filter-label">날짜</label>
                        <button class="date-picker-btn" onclick="openDatePicker()">
                            <span id="selected-date">날짜 선택</span>
                            <span class="material-icons">calendar_today</span>
                        </button>
                    </div>

                    <div class="filter-row">
                        <label class="filter-label">파트</label>
                        <select id="part-select" class="filter-select">
                            <option value="">전체</option>
                            <option value="서비스1">서비스1</option>
                            <option value="서비스2">서비스2</option>
                            <option value="서비스3">서비스3</option>
                            <option value="서비스4">서비스4</option>
                        </select>
                    </div>

                    <div class="filter-row">
                        <label class="filter-label">마스터</label>
                        <select id="master-select" class="filter-select">
                            <option value="">전체</option>
                        </select>
                    </div>
                </div>

                <button class="primary-btn" onclick="searchASPerformance()">검색</button>

                <!-- 결과 목록 -->
                <div id="as-results" class="results-list">
                    <!-- 동적으로 채워짐 -->
                </div>
            </main>
        </div>

        <!-- ========== CS 통계 ========== -->
        <div id="page-cs-statistics" class="page">
            <header class="header header-blue">
                <button class="header-back" onclick="goBack()">
                    <span class="material-icons">arrow_back</span>
                </button>
                <h1 class="header-title">CS 통계</h1>
                <button class="header-home" onclick="goHome()">
                    <span class="material-icons">home</span>
                </button>
            </header>

            <main class="main-content">
                <div class="stats-cards">
                    <div class="stats-card">
                        <span class="stats-label">총 건수</span>
                        <span class="stats-value" id="stats-total">-</span>
                    </div>
                    <div class="stats-card">
                        <span class="stats-label">완료</span>
                        <span class="stats-value stats-success" id="stats-completed">-</span>
                    </div>
                    <div class="stats-card">
                        <span class="stats-label">미결</span>
                        <span class="stats-value stats-warning" id="stats-pending">-</span>
                    </div>
                    <div class="stats-card">
                        <span class="stats-label">처리율</span>
                        <span class="stats-value" id="stats-rate">-</span>
                    </div>
                </div>
            </main>
        </div>

        <!-- ========== 영업점 주소록 (검색1) ========== -->
        <div id="page-branch-search" class="page">
            <header class="header header-blue">
                <button class="header-back" onclick="goBack()">
                    <span class="material-icons">arrow_back</span>
                </button>
                <h1 class="header-title">영업점 주소 검색</h1>
                <button class="header-home" onclick="goHome()">
                    <span class="material-icons">home</span>
                </button>
            </header>

            <main class="main-content">
                <div class="search-box">
                    <input type="text" id="branch-search-input" class="search-input" placeholder="영업점 검색 (예: 가락점)">
                    <button class="search-btn" onclick="searchBranch()">
                        <span class="material-icons">search</span>
                    </button>
                </div>

                <div id="branch-search-results" class="search-results">
                    <div class="empty-state">
                        <span class="material-icons">store</span>
                        <p>검색 시 영업점 목록이 표시됩니다.</p>
                    </div>
                </div>
            </main>
        </div>

        <!-- ========== 영업점 상세 (검색2) ========== -->
        <div id="page-branch-detail" class="page">
            <header class="header header-blue">
                <button class="header-back" onclick="goBack()">
                    <span class="material-icons">arrow_back</span>
                </button>
                <h1 class="header-title">영업점 주소 검색</h1>
                <button class="header-home" onclick="goHome()">
                    <span class="material-icons">home</span>
                </button>
            </header>

            <main class="main-content">
                <div class="search-box">
                    <input type="text" id="branch-detail-input" class="search-input" placeholder="가락점" readonly>
                    <button class="search-btn">
                        <span class="material-icons">search</span>
                    </button>
                </div>

                <div class="branch-detail-card">
                    <div class="branch-header">
                        <span class="material-icons">store</span>
                        <span id="detail-branch-name" class="branch-name">가락점</span>
                    </div>

                    <div class="branch-info">
                        <div class="info-row">
                            <span class="info-label">주소</span>
                            <span id="detail-address" class="info-value">서울시 송파구 백제고분로45길 5-8</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">영업점 번호</span>
                            <a id="detail-phone" href="tel:02-413-0060" class="info-value info-link">02-413-0060</a>
                        </div>
                        <div class="info-row">
                            <span class="info-label">점장 번호</span>
                            <a id="detail-manager" href="tel:010-3730-0063"
                                class="info-value info-link">010-3730-0063</a>
                        </div>
                    </div>

                    <div class="branch-stats">
                        <div class="stat-box">
                            <span class="stat-value" id="detail-count">4</span>
                            <span class="stat-label">전체</span>
                        </div>
                        <div class="stat-box">
                            <span class="stat-value" id="detail-sales">1</span>
                            <span class="stat-label">판매</span>
                        </div>
                        <div class="stat-box">
                            <span class="stat-value stat-highlight" id="detail-service">3</span>
                            <span class="stat-label">서비스</span>
                        </div>
                    </div>

                    <button class="map-btn" onclick="navigateTo('branch-map')">
                        <span class="material-icons">map</span>
                        네이버 지도에서 보기
                    </button>
                </div>
            </main>
        </div>

        <!-- ========== 영업점 지도 (검색3) ========== -->
        <div id="page-branch-map" class="page">
            <header class="header header-blue">
                <button class="header-back" onclick="goBack()">
                    <span class="material-icons">arrow_back</span>
                </button>
                <h1 class="header-title">영업점 주소 검색</h1>
                <button class="header-home" onclick="goHome()">
                    <span class="material-icons">home</span>
                </button>
            </header>

            <main class="main-content map-content">
                <!-- 지도 영역 -->
                <div id="map-container" class="map-container">
                    <div class="map-placeholder">
                        <span class="material-icons">map</span>
                        <p>지도가 표시됩니다</p>
                    </div>
                </div>

                <!-- 하단 정보 카드 -->
                <div class="map-info-card">
                    <div class="map-info-header">
                        <h3 id="map-branch-name">서울 송파구 백제고분로45길 5-8</h3>
                        <span class="map-info-distance">21km</span>
                    </div>
                    <div class="map-info-detail">
                        <p>석촌동 287-2 · 지번</p>
                        <p>타 주소지 존재 S-1y 가락동 외 4곳</p>
                    </div>
                    <div class="map-info-actions">
                        <button class="action-btn" onclick="copyAddress()">
                            <span class="material-icons">content_copy</span>
                            <span>복사</span>
                        </button>
                        <button class="action-btn primary" onclick="openNaverMap()">
                            <span class="material-icons">navigation</span>
                            <span>도착</span>
                        </button>
                    </div>

                    <!-- 파트 선택 사이드패널 (지도 화면용) -->
                    <div class="part-list-panel">
                        <div class="part-item active">서비스1</div>
                        <div class="part-item">서비스2</div>
                        <div class="part-item">서비스3</div>
                        <div class="part-item">매뉴O/A</div>
                    </div>
                </div>
            </main>
        </div>

        <!-- ========== 배차 목록 ========== -->
        <div id="page-delivery-list" class="page">
            <header class="header header-blue">
                <button class="header-back" onclick="goBack()">
                    <span class="material-icons">arrow_back</span>
                </button>
                <h1 class="header-title">배차 목록</h1>
                <button class="header-home" onclick="goHome()">
                    <span class="material-icons">home</span>
                </button>
            </header>

            <main class="main-content">
                <!-- 배차일 선택 필터 -->
                <div class="filter-container">
                    <div class="filter-row">
                        <label class="filter-label">배차일</label>
                        <button class="date-picker-btn" onclick="openDeliveryDatePicker()">
                            <span id="selected-delivery-date">날짜 선택</span>
                            <span class="material-icons">calendar_today</span>
                        </button>
                    </div>
                </div>

                <button class="primary-btn" onclick="searchDeliveryList()">검색</button>

                <div id="delivery-results" class="results-list">
                    <!-- 동적으로 채워짐 -->
                </div>
            </main>
        </div>

        <!-- ========== 날짜 선택 팝업 ========== -->
        <div id="date-picker-modal" class="modal">
            <div class="modal-overlay" onclick="closeDatePicker()"></div>
            <div class="modal-content calendar-modal">
                <div class="calendar-header">
                    <button class="calendar-nav" onclick="prevMonth()">
                        <span class="material-icons">chevron_left</span>
                    </button>
                    <span id="calendar-month">1월 2026</span>
                    <button class="calendar-nav" onclick="nextMonth()">
                        <span class="material-icons">chevron_right</span>
                    </button>
                </div>
                <div class="calendar-weekdays">
                    <span>일</span><span>월</span><span>화</span><span>수</span><span>목</span><span>금</span><span>토</span>
                </div>
                <div id="calendar-days" class="calendar-days">
                    <!-- 동적으로 채워짐 -->
                </div>
            </div>
        </div>

        <!-- ========== 파트 선택 팝업 ========== -->
        <div id="part-picker-modal" class="modal">
            <div class="modal-overlay" onclick="closePartPicker()"></div>
            <div class="modal-content part-modal">
                <div class="part-options">
                    <label class="part-option">
                        <input type="radio" name="part" value="전체"> 전체
                    </label>
                    <label class="part-option">
                        <input type="radio" name="part" value="서비스1"> 서비스1
                    </label>
                    <label class="part-option">
                        <input type="radio" name="part" value="서비스2"> 서비스2
                    </label>
                    <label class="part-option">
                        <input type="radio" name="part" value="서비스3"> 서비스3
                    </label>
                    <label class="part-option">
                        <input type="radio" name="part" value="서비스4"> 서비스4
                    </label>
                </div>
                <button class="primary-btn" onclick="selectPart()">선택</button>
            </div>
        </div>

    </div>

    <?!= include('JavaScript'); ?>
</body>

</html>